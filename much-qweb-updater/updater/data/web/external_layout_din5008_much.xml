<?xml version="1.0"?>
<odoo>
    <record id="external_layout_din5008_much" model="ir.ui.view">
        <field name="name">external_layout_din5008_much</field>
        <field name="type">qweb</field>
        <field name="arch" type="xml">
            <t t-name="updater.external_layout_din5008_much">
                <t t-set="font" t-value="company.font or 'Lato'"/>
                <t t-set="primary" t-value="company.primary_color or '#ea5747'"/>
                <t t-set="secondary" t-value="company.secondary_color or '#ffffff'"/>
                <style>
                    .company_tagline p{
                    margin: 0px !important;
                    }
                </style>
                <div t-attf-class="header o_company_#{company.id}_layout"
                     t-attf-style="#{company.logo_position == 'center' and 'padding-top: 10px;' or 'padding-top: 40px;'}">
                    <table style="width: 100%;">
                        <tbody>
                            <tr>
                                <t t-if="company.logo_position == 'center'">
                                    <td
                                            t-attf-style="#{company.logo_position == 'center' and 'margin: auto !important; text-align: center;'}">
                                        <img t-if="company.logo"
                                             t-att-src="image_data_uri(company.logo)"
                                             t-attf-style="display: inline; #{company.logo_position == 'left' and 'margin-right: auto;' or ''} #{'max-height: 80px;' if not company.logo_width and not company.logo_height else ''} #{(company.logo_width) and 'width: %s%s;' % (company.logo_width, company.logo_width_unit) or ''} #{(company.logo_height) and 'height: %s%s;' % (company.logo_height, company.logo_height_unit) or 'max-height: 80px;'}"
                                             alt="Logo"/>
                                        <div t-if="company.report_header"
                                             class="company_tagline"
                                             t-field="company.report_header"/>
                                    </td>
                                </t>
                                <t t-else="">
                                    <t t-if="company.logo_position == 'left'">
                                        <td>
                                            <img t-if="company.logo"
                                                 t-att-src="image_data_uri(company.logo)"
                                                 t-attf-style="#{company.logo_position == 'left' and 'margin-right: auto;' or ''} #{'max-height: 80px;' if not company.logo_width and not company.logo_height else ''} #{(company.logo_width) and 'width: %s%s;' % (company.logo_width, company.logo_width_unit) or ''} #{(company.logo_height) and 'height: %s%s;' % (company.logo_height, company.logo_height_unit) or 'max-height: 80px;'}"
                                                 alt="Logo"/>
                                        </td>
                                        <td
                                                style="text-align: right; vertical-align: middle;">
                                            <span t-esc="company.report_header"
                                                  class="company_tagline"/>
                                        </td>
                                    </t>
                                    <t t-else="">
                                        <td style="vertical-align: middle;">
                                            <span t-esc="company.report_header"
                                                  class="company_tagline"/>
                                        </td>
                                        <td style="text-align: right;">
                                            <img t-if="company.logo"
                                                 t-att-src="image_data_uri(company.logo)"
                                                 t-attf-style="#{company.logo_position == 'left' and 'margin-right: auto;' or ''} #{'max-height: 80px;' if not company.logo_width and not company.logo_height else ''} #{(company.logo_width) and 'width: %s%s;' % (company.logo_width, company.logo_width_unit) or ''} #{(company.logo_height) and 'height: %s%s;' % (company.logo_height, company.logo_height_unit) or 'max-height: 80px;'}"
                                                 alt="Logo"/>
                                        </td>
                                    </t>
                                </t>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div t-attf-class="article o_company_#{company.id}_layout {{  'o_layout_background' if company.layout_background in ['Geometric', 'Custom']  else  '' }}"
                     t-attf-style="background-image: url({{ 'data:image/png;base64,%s' % company.layout_background_image.decode('utf-8') if company.layout_background_image and company.layout_background == 'Custom' else '/base/static/img/bg_background_template.jpg' if company.layout_background == 'Geometric' else ''}});"
                     t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id"
                     t-att-data-oe-lang="o and o.env.context.get('lang')">
                    <div class="row">
                        <div
                                t-attf-class="#{company.header_address_position == 'center' and 'col-12' or 'col-7'}"
                                t-attf-style="#{company.header_address_position == 'center' and 'margin: auto !important; text-align: center;' or company.header_address_position == 'right' and 'margin-left: auto !important; text-align: right;' or ''}"
                                name="company_address">
                            <div class="company_address_div"
                                 t-att-style="(company.much_layout_style == 'colorful') and 'font-size: 10px; border-bottom: 1px solid %s; display: inline-block!important;' % (primary) or 'font-size: 10px; border-bottom:1px solid #e9ecef; display: inline-block!important;'">
                                <span>
                                    <t t-esc="company.name"/>&#160;|&#160;<t
                                        t-esc="company.street"/>&#160;|&#160;<t
                                        t-esc="company.zip"/>&#160;<t
                                        t-esc="company.city"/>
                                </span>
                            </div>
                        </div>
                    </div>
                    <t t-call="web.address_layout"/>
                    <t t-raw="0"/>
                </div>

                <div t-attf-class="footer o_company_#{company.id}_layout"
                     style="font-size: 10px;">
                    <div t-if="report_type == 'pdf'" class="row mb-2"
                         style="font-size: 12px;">
                        <div class="col-7">
                        </div>
                        <div class="col-4 text-right ml-4">
                            Page:&#160;<span class="page"/>&#160;of&#160;<span
                                class="topage"/>
                        </div>
                        <div class="col-2"></div>
                    </div>
                    <div t-att-style="(company.much_layout_style == 'colorful') and 'border-top: 2px solid %s;' %(primary) or 'border-top:2px solid #e9ecef !important;'">
                        <style>
                            .company_footer p{
                            margin: 0 !important;
                            }
                        </style>
                        <div t-if="company.report_footer" class="company_footer">
                            <t t-esc="company.report_footer"/>
                        </div>
                    </div>
                    <div class="row mb-1 pt-1 mx-0">
                        <div class="col-3 pl-0 pr-1">
                            <ul class="list-inline">
                                <li t-if="company.name"
                                    class="d-inline">
                                    <span t-field="company.name"/>
                                    <br/>
                                </li>
                                <li t-if="company.street"
                                    class="d-inline">
                                    <span t-field="company.street"/>
                                    <br/>
                                </li>
                                <li t-if="company.zip and company.city"
                                    class="d-inline">
                                    <span t-field="company.zip"/>&#160;<span
                                        t-field="company.city"/>
                                    <br/>
                                </li>
                                <li t-if="company.country_id"
                                    class="d-inline">
                                    <span t-field="company.country_id"/>
                                    <br/>
                                    <br/>
                                </li>
                            </ul>
                        </div>
                        <div class="col-3 px-1">
                            <ul class="list-inline">
                                <li t-if="company.phone"
                                    class="d-inline">
                                    Tel.:
                                    <span t-field="company.phone"/>
                                    <br/>
                                </li>
                                <li t-if="company.email"
                                    class="d-inline">
                                    Email:
                                    <span t-field="company.email"/>
                                    <br/>
                                </li>
                                <li t-if="company.website"
                                    class="d-inline">
                                    Internet:
                                    <span t-field="company.website"/>
                                    <br/>
                                </li>
                            </ul>
                        </div>
                        <div class="col-3 px-1">
                            <ul class="list-inline">
                                <t t-foreach="company.partner_id.bank_ids[0:int(company.no_of_bank_accounts)]"
                                   t-as="bank">
                                    <li t-if="bank.bank_name"
                                        class="d-inline">
                                        <t t-esc="bank.bank_name"/>
                                        <br/>
                                    </li>
                                    <li t-if="bank.acc_number"
                                        class="d-inline align-top">
                                        IBAN:
                                        <span
                                                t-attf-style="#{(bank.acc_number and len(bank.acc_number) &gt; 28) and 'font-size: 10px' or ''}">
                                            <t t-esc="bank.acc_number"/>
                                        </span>
                                        <br/>
                                    </li>
                                    <li t-if="bank.bank_bic"
                                        class="d-inline align-top">
                                        BIC/SWIFT-Code:
                                        <t t-esc="bank.bank_bic"/>
                                        <br/>
                                    </li>
                                </t>
                            </ul>
                        </div>
                        <div class="col-3 pl-1 pr-0">
                            <ul class="list-inline">
                                <li t-if="company.vat"
                                    class="d-inline">
                                    VAT ID:
                                    <span style="display: inline-block;"
                                          t-field="company.vat"/>
                                    <br/>
                                </li>
                                <li t-if="company.company_registry"
                                    class="d-inline">
                                    HRB Nr:
                                    <span style="display: inline-block;"
                                          t-field="company.company_registry"/>
                                    <br/>
                                </li>
                                 <li t-if="company.managing_partner"
                                    class="d-inline">
                                    Managing Director(s):
                                    <span t-field="company.managing_partner"/>
                                    <br/>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </t>
        </field>
    </record>
</odoo>
